<style>

    body {
        background-color: rgb(33, 36, 41);
        display: block;
        margin: 8px;
    }





    .ivYrlN {
        padding: 1rem 1.25rem 0.5rem;
        width: 100%;
        color: rgb(86, 90, 105);
    }

    .cTqxjL {
        -webkit-box-pack: justify;
        justify-content: space-between;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }

    .hXqRIf {
        width: fit-content;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .css-10yinq6 {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
        font-weight: 500;
        font-size: 16px;
    }

    .CBHzA {
        color: rgb(0, 0, 0);
    }

    .hXqRIf {
        width: fit-content;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }


    .css-10yinq6 {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
        font-weight: 500;
        font-size: 16px;
    }

    .CBHzA {
        color: rgb(0, 0, 0);
    }


    .ilNpYv {
        position: relative;
        padding: 8px;
    }

    .bBlzxc {
        display: grid;
        grid-auto-rows: auto;
        row-gap: 12px;
    }

    .bBlzxc {
        display: grid;
        grid-auto-rows: auto;
        row-gap: 12px;
    }

    .dgLlAI {
        display: flex;
        flex-flow: column nowrap;
        position: relative;
        border-radius: 20px;
        background-color: rgb(237, 238, 242);
        z-index: 1;
        width: initial;
    }

    .hzRLOF {
        display: flex;
        flex-flow: row nowrap;
        -webkit-box-align: center;
        align-items: center;
        padding: 1rem 1rem 0.75rem;
    }

    .iipmPE {
        -webkit-box-pack: end;
        justify-content: flex-end;
    }

    .kvRXYu {
        display: flex;
        flex-flow: row nowrap;
        -webkit-box-align: center;
        align-items: center;
        color: rgb(0, 0, 0);
        font-size: 0.75rem;
        line-height: 1rem;
        padding: 0px 1rem 1rem;
    }


    .cTqxjL {
        -webkit-box-pack: justify;
        justify-content: space-between;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }


    .css-djrxae {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
        font-weight: 400;
        font-size: 14px;
        color: rgb(195, 197, 203);
    }

    .hjPA-dp {
        padding: 4px;
        border-radius: 12px;
        height: 32px;
        width: 32px;
        position: relative;
        margin-top: -14px;
        margin-bottom: -14px;
        left: calc(50% - 16px);
        background-color: rgb(247, 248, 250);
        border: 4px solid rgb(255, 255, 255);
        z-index: 2;
    }

    svg[Attributes Style

    ]
    {
        width: 16
    ;
        height: 16
    ;
        fill: none
    ;
        stroke: rgb(110, 114, 125)
    ;
        stroke-width: 2
    ;
        stroke-linecap: round
    ;
        stroke-linejoin: round
    ;
    }


    .dgLlAI {
        display: flex;
        flex-flow: column nowrap;
        position: relative;
        border-radius: 20px;
        background-color: rgb(237, 238, 242);
        z-index: 1;
        width: initial;
    }

    .dSgqMY {
        border-radius: 20px;
        border: 1px solid rgb(237, 238, 242);
        background-color: rgb(247, 248, 250);
        width: initial;
    }

    .hzRLOF {
        display: flex;
        flex-flow: row nowrap;
        -webkit-box-align: center;
        align-items: center;
        padding: 1rem 1rem 0.75rem;
    }

    iipmPE {
        -webkit-box-pack: end;
        justify-content: flex-end;
    }

    .kvRXYu {
        display: flex;
        flex-flow: row nowrap;
        -webkit-box-align: center;
        align-items: center;
        color: rgb(0, 0, 0);
        font-size: 0.75rem;
        line-height: 1rem;
        padding: 0px 1rem 1rem;
    }

    .cTqxjL {
        -webkit-box-pack: justify;
        justify-content: space-between;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }


    .css-djrxae {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
        font-weight: 400;
        font-size: 14px;
        color: rgb(195, 197, 203);
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }

    .hXqRIf {
        width: fit-content;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }

    .iRJBOi {
        background-color: rgb(253, 234, 241);
        color: rgb(213, 0, 102);
        font-size: 16px;
        font-weight: 500;
    }

    .dZkESD {
        padding: 16px;
        width: 100%;
        font-weight: 500;
        text-align: center;
        border-radius: 20px;
        outline: none;
        border: 1px solid transparent;
        color: white;
        text-decoration: none;
        display: flex;
        -webkit-box-pack: center;
        justify-content: center;
        flex-wrap: nowrap;
        -webkit-box-align: center;
        align-items: center;
        cursor: pointer;
        position: relative;
        z-index: 1;
        will-change: transform;
        transition: transform 450ms ease 0s;
        transform: perspective(1px) translateZ(0px);
    }

    .kjVGCt {
        color: rgb(0, 0, 0);
        width: 0px;
        position: relative;
        font-weight: 500;
        outline: none;
        border: none;
        flex: 1 1 auto;
        background-color: rgb(247, 248, 250);
        font-size: 24px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: 0px;
        appearance: textfield;
        text-align: right;
    }

    .bhVlig {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
        appearance: none;
        display: inline-block;
        text-align: center;
        line-height: inherit;
        text-decoration: none;
        font-size: inherit;
        padding: 8px 16px;
        color: white;
        border: 0px;
        border-radius: 4px;
    }


    gRkzNE {
        display: flex;
        flex-flow: column;
        align-items: flex-start;
    }

    .hIoStg {
        display: flex;
        flex-direction: column;
        width: 100%;
        padding: 120px 16px 0px;
        -webkit-box-align: center;
        align-items: center;
        flex: 1 1 0%;
        z-index: 1;
    }


    a {
        color: rgb(33, 114, 229);
    }

    .cTqxjL {
        -webkit-box-pack: justify;
        justify-content: space-between;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }

    .hXqRIf {
        width: fit-content;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }


    .css-10yinq6 {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
        font-weight: 500;
        font-size: 16px;
    }


    .ilNpYv {
        position: relative;
        padding: 8px;
    }

    div {
        display: block;
    }

    .bBlzxc {
        display: grid;
        grid-auto-rows: auto;
        row-gap: 12px;
    }


    .hzRLOF {
        display: flex;
        flex-flow: row nowrap;
        -webkit-box-align: center;
        align-items: center;
        padding: 1rem 1rem 0.75rem;
    }


    input {
        -webkit-writing-mode: horizontal-tb !important;
        text-rendering: auto;
        color: -internal-light-dark(black, white);
        letter-spacing: normal;
        word-spacing: normal;
        text-transform: none;
        text-indent: 0px;
        text-shadow: none;
        display: inline-block;
        text-align: start;
        appearance: auto;
        background-color: -internal-light-dark(rgb(255, 255, 255), rgb(59, 59, 59));
        -webkit-rtl-ordering: logical;
        cursor: text;
        margin: 0em;
        font: 400 13.3333px Arial;
        padding: 1px 2px;
        border-width: 2px;
        border-style: inset;
        border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));
        border-image: initial;
    }

    iipmPE {
        -webkit-box-pack: end;
        justify-content: flex-end;
    }


    .cTqxjL {
        -webkit-box-pack: justify;
        justify-content: space-between;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }

    .hzRLOF {
        display: flex;
        flex-flow: row nowrap;
        -webkit-box-align: center;
        align-items: center;
        padding: 1rem 1rem 0.75rem;
    }

    .iipmPE {
        -webkit-box-pack: end;
        justify-content: flex-end;
    }


    .iipmPE {
        -webkit-box-pack: end;
        justify-content: flex-end;
    }


    .cTqxjL {
        -webkit-box-pack: justify;
        justify-content: space-between;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }


    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }


    .hXqRIf {
        width: fit-content;
    }

    .bNRzcC {
        width: 100%;
        display: flex;
        padding: 0px;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: start;
        justify-content: flex-start;
    }

    .fzUdiI {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
    }


    .dZkESD {
        padding: 16px;
        width: 100%;
        font-weight: 500;
        text-align: center;
        border-radius: 20px;
        outline: none;
        border: 1px solid transparent;
        color: white;
        text-decoration: none;
        display: flex;
        -webkit-box-pack: center;
        justify-content: center;
        flex-wrap: nowrap;
        -webkit-box-align: center;
        align-items: center;
        cursor: pointer;
        position: relative;
        z-index: 1;
        will-change: transform;
        transition: transform 450ms ease 0s;
        transform: perspective(1px) translateZ(0px);
    }

    .bhVlig {
        box-sizing: border-box;
        margin: 0px;
        min-width: 0px;
        appearance: none;
        display: inline-block;
        text-align: center;
        line-height: inherit;
        text-decoration: none;
        font-size: inherit;
        padding: 8px 16px;
        color: white;
        border: 0px;
        border-radius: 4px;
    }

    button {
        user-select: none;
    }

    * {
        font-family: 'Inter var', sans-serif;
    }

    * {
        font-family: Inter, sans-serif;
        box-sizing: border-box;
    }

    button {
        appearance: auto;
        -webkit-writing-mode: horizontal-tb !important;
        text-rendering: auto;
        color: -internal-light-dark(black, white);
        letter-spacing: normal;
        word-spacing: normal;
        text-transform: none;
        text-indent: 0px;
        text-shadow: none;
        display: inline-block;
        text-align: center;
        align-items: flex-start;
        cursor: default;
        background-color: -internal-light-dark(rgb(239, 239, 239), rgb(59, 59, 59));
        box-sizing: border-box;
        margin: 0em;
        font: 400 13.3333px Arial;
        padding: 1px 6px;
        border-width: 2px;
        border-style: outset;
        border-color: -internal-light-dark(rgb(118, 118, 118), rgb(133, 133, 133));
        border-image: initial;
    }


    input[type='number'] {
        -moz-appearance: textfield;
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
    }


    #LogoName {
        text-align: center !important;
    }

    #buttonConnect-Buy {
        color: #fff;
        background-color: #bd659a;
        padding: 16px;
        border-radius: 20px;
    }

</style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<!--<div class="sc-1dv6j2d-1 hIoStg">-->
<!--    <div class="sc-ebxalf-0 dGYAPL">-->
<div class="sc-jhay2b-0 ivYrlN">
    <div id="LogoName" class="sc-18nh1jk-0 CBHzA css-10yinq6">TOKEN WIDGET</div>
</div>
<div id="swap-page" class="sc-11ce2lf-0 ilNpYv">
    <div class="sc-1kykgp9-2 bBlzxc">
        <div>
            <div id="swap-currency-input" label="[object Object]" class="sc-33m4yg-0 dgLlAI">
                <div class="sc-33m4yg-2 dSgqMY">
                    <div class="sc-33m4yg-4 hzRLOF">price<input type="number" oninput="triggerGetAmountTokens()" id="inputEth"
                                                                 disabled autocomplete="off"
                                                                 class="sc-1x3stf0-0 kjVGCt token-amount-input"
                                                                 inputmode="decimal"
                                                                 type="text" pattern="^[0-9]*[.,]?[0-9]*$"
                                                                 placeholder="0.0 ETH"
                                                                 spellcheck="false" value=""></div>
                    <div class="sc-33m4yg-5 sc-33m4yg-6 kvRXYu iipmPE">
                        <div class="sc-bdnxRM sc-nrd8cx-0 sc-nrd8cx-1 fzUdiI bNRzcC cTqxjL"><span></span>
                            <div class="sc-18nh1jk-0 bTfoun css-djrxae"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sc-11ce2lf-1 hjPA-dp">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                     stroke="#6E727D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <polyline points="19 12 12 19 5 12"></polyline>
                </svg>
            </div>
            <div id="swap-currency-output" label="[object Object]" class="sc-33m4yg-0 dgLlAI">
                <div class="sc-33m4yg-2 dSgqMY">
                    <div class="sc-33m4yg-4 hzRLOF">amount<input type="number" id="inputTokens"
                                                                 autocomplete="off"
                                                                oninput="getPrice()"
                                                                class="sc-1x3stf0-0 kjVGCt token-amount-input"
                                                                disabled placeholder="0 NAME_TOKEN" value=""></div>
                    <div class="sc-33m4yg-5 sc-33m4yg-6 kvRXYu iipmPE">
                        <div class="sc-bdnxRM sc-nrd8cx-0 sc-nrd8cx-1 fzUdiI bNRzcC cTqxjL"><span></span>
                            <div class="sc-18nh1jk-0 bTfoun css-djrxae"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="sc-bdnxRM sc-nrd8cx-0 fzUdiI bNRzcC" style="justify-content: center;">
            <div class="sc-bdnxRM sc-nrd8cx-0 sc-nrd8cx-4 fzUdiI bNRzcC hXqRIf"></div>
        </div>
        <div>
<!--            <div class="alert alert-warning alert-dismissible fade show" role="alert">-->
<!--                <strong>Holy guacamole!</strong> You should check in on some of those fields below.-->
<!--                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>-->
<!--            </div>-->
            <button id="buttonConnect-Buy" class="sc-bdnxRM bhVlig sc-fwrjc2-0 sc-fwrjc2-2 dZkESD iRJBOi">Connect Wallet</button>
        </div>
    </div>
</div>
<!--    </div>-->
<!--</div>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/3.0.0-rc.5/web3.min.js"
        integrity="sha512-jRzb6jM5wynT5UHyMW2+SD+yLsYPEU5uftImpzOcVTdu1J7VsynVmiuFTsitsoL5PJVQi+OtWbrpWq/I+kkF4Q=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    // constants
    const CONTRACT_ABI = [
        {
            "inputs": [
                {
                    "internalType": "string",
                    "name": "_name",
                    "type": "string"
                },
                {
                    "internalType": "string",
                    "name": "_symbol",
                    "type": "string"
                },
                {
                    "internalType": "uint256",
                    "name": "_initialSupply",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "_priceInWei",
                    "type": "uint256"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "constructor"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "owner",
                    "type": "address"
                },
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "spender",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "value",
                    "type": "uint256"
                }
            ],
            "name": "Approval",
            "type": "event"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": false,
                    "internalType": "address",
                    "name": "_buyer",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "_amount",
                    "type": "uint256"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "_cost",
                    "type": "uint256"
                }
            ],
            "name": "BuyTokens",
            "type": "event"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "previousOwner",
                    "type": "address"
                },
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "newOwner",
                    "type": "address"
                }
            ],
            "name": "OwnershipTransferred",
            "type": "event"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "from",
                    "type": "address"
                },
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "to",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "value",
                    "type": "uint256"
                }
            ],
            "name": "Transfer",
            "type": "event"
        },
        {
            "stateMutability": "payable",
            "type": "fallback"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "owner",
                    "type": "address"
                },
                {
                    "internalType": "address",
                    "name": "spender",
                    "type": "address"
                }
            ],
            "name": "allowance",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "spender",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "amount",
                    "type": "uint256"
                }
            ],
            "name": "approve",
            "outputs": [
                {
                    "internalType": "bool",
                    "name": "",
                    "type": "bool"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "account",
                    "type": "address"
                }
            ],
            "name": "balanceOf",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "_amount",
                    "type": "uint256"
                }
            ],
            "name": "calculateAffordableTokens",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "decimals",
            "outputs": [
                {
                    "internalType": "uint8",
                    "name": "",
                    "type": "uint8"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "spender",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "subtractedValue",
                    "type": "uint256"
                }
            ],
            "name": "decreaseAllowance",
            "outputs": [
                {
                    "internalType": "bool",
                    "name": "",
                    "type": "bool"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "spender",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "addedValue",
                    "type": "uint256"
                }
            ],
            "name": "increaseAllowance",
            "outputs": [
                {
                    "internalType": "bool",
                    "name": "",
                    "type": "bool"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "name",
            "outputs": [
                {
                    "internalType": "string",
                    "name": "",
                    "type": "string"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "owner",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "pendingWithdrawal",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "presaleActive",
            "outputs": [
                {
                    "internalType": "bool",
                    "name": "",
                    "type": "bool"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "priceInWei",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "renounceOwnership",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "_priceInWei",
                    "type": "uint256"
                }
            ],
            "name": "setPrice",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "startPresale",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "stopPresale",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "symbol",
            "outputs": [
                {
                    "internalType": "string",
                    "name": "",
                    "type": "string"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "total",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "totalSupply",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "recipient",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "amount",
                    "type": "uint256"
                }
            ],
            "name": "transfer",
            "outputs": [
                {
                    "internalType": "bool",
                    "name": "",
                    "type": "bool"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "sender",
                    "type": "address"
                },
                {
                    "internalType": "address",
                    "name": "recipient",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "amount",
                    "type": "uint256"
                }
            ],
            "name": "transferFrom",
            "outputs": [
                {
                    "internalType": "bool",
                    "name": "",
                    "type": "bool"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "newOwner",
                    "type": "address"
                }
            ],
            "name": "transferOwnership",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "_amount",
                    "type": "uint256"
                }
            ],
            "name": "withdraw",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "withdrawAll",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        }
    ]
    const CONTRACT_ADDRESS = '0xC26A6ad890C0C18C46C743daC4dE8Cf30418eB10';
    const NET_URL = 'https://rinkeby.infura.io/v3/bdc87b38535b446b8b953b13d9a40b38';
    const Web3 = window.Web3
    const ethereum = window.ethereum
    const web3 = new Web3(NET_URL);
    const contract = new web3.eth.Contract(CONTRACT_ABI, CONTRACT_ADDRESS);
    const button = document.getElementById('buttonConnect-Buy')
    const inputTokens = document.getElementById('inputTokens')
    const inputEth = document.getElementById('inputEth')
    const MIN_PRICE = 0.1
    const MAX_PRICE = 1
    let globalPrice = "0"
    // constants end
    window.addEventListener('load',async () => console.log(await contract.methods.priceInWei().call()))

    async function getPrice() {
        const PRICE_FOR = await web3.utils.fromWei(await contract.methods.priceInWei().call())

        if (inputTokens.value * PRICE_FOR >= MIN_PRICE && inputTokens.value * PRICE_FOR <= MAX_PRICE) {
            console.log("go in")
            button.style.backgroundColor = 'rgb(39, 174, 96)';
            button.disabled = false
            button.innerHTML = 'Buy tokens'
            const price = await web3.utils.fromWei(await contract.methods.priceInWei().call())
            inputEth.value = price * inputTokens.value
            console.log(inputEth.value)
            globalPrice = inputEth.value
        }
            else if (inputTokens.value * PRICE_FOR < MIN_PRICE) {
                button.disabled = true
                inputEth.value = ""
                button.style.backgroundColor = "#f8d7da"
                button.innerHTML = `Please, buy tokens for more than ${MIN_PRICE} ETH`
            } else  {
                button.disabled = true
                inputEth.value = ""
                button.style.backgroundColor = "#f8d7da"
                button.innerHTML = `Please, buy tokens for less than ${MAX_PRICE} ETH`

            }



    }


    async function getAmountTokens(value = "0") {
        if (value >= MIN_PRICE && value <= MAX_PRICE) {
            button.style.backgroundColor = 'rgb(39, 174, 96)';
            button.disabled = false
            button.innerHTML = 'Buy tokens'
            const wei = await web3.utils.toWei(value)
            const amountTokens = await contract.methods.calculateAffordableTokens(wei).call()
            inputTokens.value = amountTokens.slice(0, -12)
            globalPrice = inputEth.value
        }
           else if (value < 0.1) {
                inputTokens.value = ""
                button.style.backgroundColor = "#f8d7da"
                button.disabled = true
                button.innerHTML = `Please, buy tokens for more than ${MIN_PRICE} ETH`
            } else {
                inputTokens.value = ""
                button.style.backgroundColor = "#f8d7da"
                button.disabled = true
                button.innerHTML = `Please, buy tokens for less than ${MAX_PRICE} ETH`

            }


    }


    function triggerGetAmountTokens() {
        getAmountTokens(inputEth.value)
    }


    async function getAccount() {

        const accounts = await ethereum.request({method: 'eth_requestAccounts'});
        const account = accounts[0]
        if (window.ethereum.chainId == "0x1") console.log("Already connected to ethereum mainnet...")
        else {
            try {
                await ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{chainId: '0x1'}],
                });
            } catch (switchError) {
                // This error code indicates that the chain has not been added to MetaMask.
                if (error.code === 4902) {
                    try {
                        await ethereum.request({
                            method: 'wallet_addEthereumChain',
                            params: [{
                                chainId: '0x1',
                            }],
                        });
                    } catch (addError) {
                    }
                }
            }
        }
        return account;
    }

    button.addEventListener('click', async () => {
        if (button.innerHTML === "Connect Wallet") {
           await getAccount()
            button.style.backgroundColor = 'rgb(39, 174, 96)';
            button.innerHTML = 'Buy tokens'
            inputTokens.disabled = false
            inputEth.disabled = false

        } else if (button.innerHTML === "Buy tokens") await sendEth()

        else {
            console.log(new Error("some error"))
        }

    })


    async function sendEth(value = "0") {
        const account = await getAccount()
        const globalPriceToHex = (globalPrice * 1e18).toString(16)
        window.ethereum
            .request({
                method: 'eth_sendTransaction',
                params: [
                    {
                        from: account,
                        to: CONTRACT_ADDRESS,
                        value: globalPriceToHex,
                    },
                ],
            })
            .then((txHash) => console.log(txHash))
            .catch((error) => console.error);
    }


</script>
